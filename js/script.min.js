var form=document.querySelector(".booking-search-frm"),btn=document.querySelector(".booking-btn"),dateBegin=form.querySelector("[name=date-begin]"),dateEnd=form.querySelector("[name=date-end]"),adultsCount=form.querySelector("[name=adults-count]"),childrenCount=form.querySelector("[name=children-count]"),storageAdults=localStorage.getItem("adultsCount"),storageChildren=localStorage.getItem("childrenCount"),adultsPlus=form.querySelector(".adults-plus"),adultsMinus=form.querySelector(".adults-minus"),childrenPlus=form.querySelector(".children-plus"),childrenMinus=form.querySelector(".children-minus")
storageAdults&&(adultsCount.value=storageAdults),storageChildren&&(childrenCount.value=storageChildren),btn.addEventListener("click",function(e){e.preventDefault(),form.classList.toggle("form-show"),form.classList.remove("form-error")}),form.addEventListener("submit",function(e){dateBegin.value&&dateEnd.value&&adultsCount.value&&childrenCount.value?(localStorage.setItem("adultsCount",adultsCount.value),localStorage.setItem("childrenCount",childrenCount.value)):(e.preventDefault(),form.classList.remove("form-error"),form.offsetWidth=form.offsetWidth,form.classList.add("form-error"))}),adultsPlus.addEventListener("click",function(e){e.preventDefault(),adultsCount.value?adultsCount.value=parseInt(adultsCount.value)+1:adultsCount.value=1}),adultsMinus.addEventListener("click",function(e){e.preventDefault(),adultsCount.value?adultsCount.value>adultsCount.min&&(adultsCount.value=parseInt(adultsCount.value)-1):adultsCount.value=0}),childrenPlus.addEventListener("click",function(e){e.preventDefault(),childrenCount.value?childrenCount.value=parseInt(childrenCount.value)+1:childrenCount.value=1}),childrenMinus.addEventListener("click",function(e){e.preventDefault(),childrenCount.value?childrenCount.value>childrenCount.min&&(childrenCount.value=parseInt(childrenCount.value)-1):childrenCount.value=0})